{
  "name": "advanced-search",
  "description": "Advanced search component with multiple field types support",
  "type": "component",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [
    "button",
    "input",
    "label",
    "select"
  ],
  "files": [
    {
      "path": "advanced-search/index.tsx",
      "type": "component",
      "content": "import * as React from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { cn } from '@/lib/utils'\n\nexport type SearchFieldType = 'text' | 'select' | 'date' | 'number'\n\nexport interface SearchField {\n  name: string\n  label: string\n  type: SearchFieldType\n  placeholder?: string\n  options?: Array<{ label: string; value: string }>\n  defaultValue?: string | number\n}\n\nexport interface AdvancedSearchProps {\n  fields: SearchField[]\n  onSearch: (values: Record<string, any>) => void\n  onReset?: () => void\n  className?: string\n  columns?: 1 | 2 | 3 | 4\n}\n\nexport function AdvancedSearch({\n  fields,\n  onSearch,\n  onReset,\n  className,\n  columns = 3,\n}: AdvancedSearchProps) {\n  const [values, setValues] = React.useState<Record<string, any>>(() => {\n    const initialValues: Record<string, any> = {}\n    fields.forEach(field => {\n      if (field.defaultValue !== undefined) {\n        initialValues[field.name] = field.defaultValue\n      }\n    })\n    return initialValues\n  })\n\n  const handleChange = (name: string, value: any) => {\n    setValues(prev => ({ ...prev, [name]: value }))\n  }\n\n  const handleSearch = () => {\n    onSearch(values)\n  }\n\n  const handleReset = () => {\n    const resetValues: Record<string, any> = {}\n    fields.forEach(field => {\n      if (field.defaultValue !== undefined) {\n        resetValues[field.name] = field.defaultValue\n      }\n    })\n    setValues(resetValues)\n    if (onReset) {\n      onReset()\n    } else {\n      onSearch(resetValues)\n    }\n  }\n\n  const gridClassName = {\n    1: 'grid-cols-1',\n    2: 'grid-cols-1 md:grid-cols-2',\n    3: 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3',\n    4: 'grid-cols-1 md:grid-cols-2 lg:grid-cols-4',\n  }[columns]\n\n  return (\n    <div className={cn('rounded-lg border bg-card p-6', className)}>\n      <div className={cn('grid gap-4', gridClassName)}>\n        {fields.map(field => (\n          <div key={field.name} className=\"space-y-2\">\n            <Label htmlFor={field.name}>{field.label}</Label>\n            {field.type === 'text' && (\n              <Input\n                id={field.name}\n                type=\"text\"\n                placeholder={field.placeholder}\n                value={values[field.name] || ''}\n                onChange={e => handleChange(field.name, e.target.value)}\n              />\n            )}\n            {field.type === 'number' && (\n              <Input\n                id={field.name}\n                type=\"number\"\n                placeholder={field.placeholder}\n                value={values[field.name] || ''}\n                onChange={e => handleChange(field.name, e.target.value)}\n              />\n            )}\n            {field.type === 'date' && (\n              <Input\n                id={field.name}\n                type=\"date\"\n                placeholder={field.placeholder}\n                value={values[field.name] || ''}\n                onChange={e => handleChange(field.name, e.target.value)}\n              />\n            )}\n            {field.type === 'select' && field.options && (\n              <Select\n                value={values[field.name] || ''}\n                onValueChange={value => handleChange(field.name, value)}\n              >\n                <SelectTrigger id={field.name}>\n                  <SelectValue placeholder={field.placeholder || 'Select...'} />\n                </SelectTrigger>\n                <SelectContent>\n                  {field.options.map(option => (\n                    <SelectItem key={option.value} value={option.value}>\n                      {option.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            )}\n          </div>\n        ))}\n      </div>\n      <div className=\"mt-6 flex gap-2\">\n        <Button onClick={handleSearch}>Search</Button>\n        <Button variant=\"outline\" onClick={handleReset}>\n          Reset\n        </Button>\n      </div>\n    </div>\n  )\n}\n"
    },
    {
      "path": "advanced-search/use-advanced-search.ts",
      "type": "hook",
      "content": "import * as React from 'react'\n\nexport interface UseAdvancedSearchOptions<T = any> {\n  initialValues?: T\n  onSearch?: (values: T) => void\n  onReset?: () => void\n}\n\nexport function useAdvancedSearch<T = Record<string, any>>({\n  initialValues = {} as T,\n  onSearch,\n  onReset,\n}: UseAdvancedSearchOptions<T> = {}) {\n  const [values, setValues] = React.useState<T>(initialValues)\n  const [isSearching, setIsSearching] = React.useState(false)\n\n  const handleChange = React.useCallback((name: keyof T, value: any) => {\n    setValues(prev => ({ ...prev, [name]: value }))\n  }, [])\n\n  const handleSearch = React.useCallback(async () => {\n    setIsSearching(true)\n    try {\n      if (onSearch) {\n        await onSearch(values)\n      }\n    } finally {\n      setIsSearching(false)\n    }\n  }, [values, onSearch])\n\n  const handleReset = React.useCallback(() => {\n    setValues(initialValues)\n    if (onReset) {\n      onReset()\n    }\n  }, [initialValues, onReset])\n\n  const setValue = React.useCallback((name: keyof T, value: any) => {\n    setValues(prev => ({ ...prev, [name]: value }))\n  }, [])\n\n  const setAllValues = React.useCallback((newValues: Partial<T>) => {\n    setValues(prev => ({ ...prev, ...newValues }))\n  }, [])\n\n  return {\n    values,\n    isSearching,\n    handleChange,\n    handleSearch,\n    handleReset,\n    setValue,\n    setAllValues,\n  }\n}\n"
    }
  ]
}
