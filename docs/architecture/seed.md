# seed 项目使用与工程规范文档

## 1. 文档目的与 seed 的角色定位

seed 项目是 **业务组件体系的最终落点**，也是唯一直接面向真实用户的工程形态。

在整体架构中：

- core 决定 **业务正确性**
- ui 决定 **业务如何被操作**
- seed 决定 **业务如何被组合、交付与演进**

本规范用于明确 seed 项目的：

- 合法使用方式
- 工程结构建议
- 明确禁止的反模式

以防止在长期迭代中侵蚀 core / ui 的设计边界。

---

## 2. seed 项目的职责边界

### 2.1 seed 负责的内容

- 项目级业务组合
- 页面与路由设计
- UI 主题、样式、布局
- 项目级状态管理（非业务流程）
- 国际化、权限、埋点等横切能力

### 2.2 seed 不负责的内容

- 业务规则定义
- 业务流程控制
- 业务状态推断
- 复制或模拟 core 逻辑

一句话原则：

> **seed 负责“用业务”，而不是“定义业务”。**

---

## 3. 推荐工程结构

基于 React@19 + Vite@7 + antd@6，推荐 seed 项目结构如下：

```
src/
├── assets/             # 静态资源
├── pages/              # 页面级组件
│   └── login/
│       ├── index.jsx
│       └── useLoginPage.js
├── routes/             # 路由配置
│   └── index.jsx
├── ui/                 # CLI 注入的业务组件资产（seed 衍生项目专有）
├── components/         # 项目级组件
├── hooks/              # 项目级 hook
├── stores/             # 项目级状态管理（zustand）
├── utils/              # 项目级工具函数
├── constants/          # 项目级常量
├── services/           # 项目级服务（api / auth 等）
├── styles/             # tailwind / 主题
└── main.jsx            # 入口文件
```

说明：

- `src/ui` 目录内容由 CLI 管理
- seed 的衍生项目不应修改 core npm 包内容

---

## 4. 使用 core 的规范

### 4.1 合法使用方式

TODO

### 4.2 禁止行为

TODO

---

## 5. 使用 ui 组件的规范

### 5.1 合法使用方式

- seed 通过 import 引入 ui 组件
- seed 衍生项目通过 CLI 引入 ui 组件
- 以组合方式使用 ui 组件

### 5.2 定制 ui 的推荐方式

- 修改 View 结构
- 替换样式与布局

### 5.3 禁止行为

- 在 seed 中复制 ui 组件逻辑

---

## 6. 状态管理规范（zustand）

### 6.1 zustand 的职责范围

zustand 仅用于：

- 跨页面 UI 状态
- 用户信息、权限
- 全局 UI 控制（modal / drawer）

### 6.2 明确禁止

- 使用 zustand 管理业务流程状态
- 用 zustand 镜像 core state

---

## 7. 路由与页面设计规范

- 页面负责：
  - engine 实例生命周期
  - 业务模块组合

- ui 组件不感知路由

- core 不感知页面

---

## 8. 样式与主题规范

- 主题由 seed 控制
- ui 组件应使用语义化 class
- 不在 ui 中写死主题变量

推荐：

- Tailwind CSS + antd theme token

---

## 9. 国际化（i18n）使用原则

- 文案归 seed 管理
- ui 组件仅接收文案参数或 key
- core 不感知 i18n

---

## 10. 反模式与常见错误

### 10.1 典型反模式

- 在页面中写业务 if/else
- 为了“方便”直接调用 engine.actions
- UI 与业务状态双向绑定

### 10.2 判断准则

> **这段代码被复制到另一个项目，会不会改变业务结果？**

- 会 → 说明不该在 seed
- 不会 → 合理

---

## 11. 演进与维护建议

- core 升级：优先测试通过
- ui 升级：人工 review diff
- seed 定制：以局部覆盖为主

---

## 12. 设计总结

seed 项目不是一个“自由发挥区”，而是：

> **在严格业务约束下的创造空间。**

当 seed 严格遵守本规范时：

- 业务逻辑集中且稳定
- UI 可高度定制
- 项目可以长期演进而不失控

这标志着整个 core / ui / CLI / seed 架构体系真正闭环。
